<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>

    <div id="cuisineDisplayArea"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        var corsEnable = "https://enigmatic-beyond-33445.herokuapp.com/cors/";
        var key = "488e32fe25c9ed9387b879aa94952c00/";
        var queryURL = "https://developers.zomato.com/api/v2.1/cities?q=newark&count=1";


        $.ajax({
            url: "https://developers.zomato.com/api/v2.1/cities?q=newark&count=1",
            method: "GET",
            headers: {
                "user-key": "488e32fe25c9ed9387b879aa94952c00"
            }

        }
        ).then(function (response) {
            cityId = response.location_suggestions[0].id;
            // cityID above variable logs the city ID of results form first ajax call
            // below the cityID is used to retrieve cusine data
            $.ajax({
                url: "https://developers.zomato.com/api/v2.1/cuisines?city_id=" + cityId,
                method: "GET",
                headers: {
                    "user-key": "488e32fe25c9ed9387b879aa94952c00"
                }

            }).then(function (result) {
                console.log(result.cuisines)
                var cusinesAvailable = result.cuisines;
                // console.log(cusinesAvailable)
                for (i = 0; i < cusinesAvailable.length; i++) {
                    // console.log(cusinesAvailable[i].cuisine.cuisine_name);
                    var x = cusinesAvailable[i].cuisine.cuisine_name;
                    // console.log(x);
                    var cuisineDisplayAreas = $("<div>");
                    var cuisineDisplay = $("<p>").html(x);
                        // console.log(cuisineDisplay);
                    // $("#cuisineDisplayArea").append(x);
                    $("#cuisineDisplayArea").append(cuisineDisplay);



                }

            });
            // 

        });

    </script>

</body>

</html>